(this["webpackJsonpbase-react"]=this["webpackJsonpbase-react"]||[]).push([[0],{44:function(e,t,n){},96:function(e,t,n){},98:function(e,t,n){"use strict";n.r(t);var r=n(3),c=n.n(r),a=n(17),i=n.n(a),s=(n(44),n(5)),o=n.n(s),u=n(11),d=n(12),l=function(){var e=Object(u.a)(o.a.mark((function e(t,n){var r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://api.bigdatacloud.net/data/reverse-geocode-client?latitude=".concat(t,"&longitude=").concat(n),e.next=3,fetch(r);case 3:return c=e.sent,e.next=6,c.json();case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),h=n(20),m="https://api.weatherstack.com",f="5d479d3903cd2a94298354f2a1e257f1",p=function(){var e=Object(u.a)(o.a.mark((function e(t,n){var r,c,a,i,s,u,d=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=d.length>2&&void 0!==d[2]?d[2]:"GET",c=d.length>3&&void 0!==d[3]?d[3]:{},a=d.length>4&&void 0!==d[4]?d[4]:{},i="".concat(m,"/").concat(t,"?access_key=").concat(f).concat(n),s={method:r,mode:"cors",headers:Object(h.a)({},a)},"POST"!==r&&"PUT"!==r||(s.body=JSON.stringify(c)),e.next=8,fetch(i,s);case 8:if(u=e.sent,"application/json; Charset=UTF-8"!==u.headers.get("Content-Type")){e.next=14;break}return e.next=13,u.json();case 13:return e.abrupt("return",e.sent);case 14:throw new Error("Unexpected content type");case 15:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),_=function(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t="";return Object.keys(e).forEach((function(n){t+="&".concat(n,"=").concat(e[n])})),t}(e);return p("current",t)},b=function(e){return{request:{type:"City",query:"New York, United States of America",language:"en",unit:"m"},location:{name:"New York",country:"United States of America",region:"New York",lat:"40.714",lon:"-74.006",timezone_id:"America/New_York",localtime:"2019-09-07 11:38",localtime_epoch:1567856280,utc_offset:"-4.0"},current:{observation_time:"03:38 PM",temperature:18,weather_code:113,weather_icons:["https://assets.weatherstack.com/images/wsymbols01_png_64/wsymbol_0001_sunny.png"],weather_descriptions:["Sunny"],wind_speed:0,wind_degree:345,wind_dir:"NNW",pressure:1011,precip:0,humidity:58,cloudcover:0,feelslike:18,uv_index:5,visibility:16},forecast:{"2019-09-07":{date:"2019-09-07",date_epoch:1567814400,astro:{sunrise:"06:28 AM",sunset:"07:19 PM",moonrise:"03:33 PM",moonset:"12:17 AM",moon_phase:"First Quarter",moon_illumination:54},mintemp:17,maxtemp:25,avgtemp:21,totalsnow:0,sunhour:10.3,uv_index:5,hourly:[{time:"0",temperature:18,wind_speed:28,wind_degree:15,wind_dir:"NNE",weather_code:122,weather_icons:["https://assets.weatherstack.com/images/wsymbols01_png_64/wsymbol_0004_black_low_cloud.png"],weather_descriptions:["Overcast"],precip:0,humidity:68,visibility:10,pressure:1008,cloudcover:75,heatindex:18,dewpoint:12,windchill:18,windgust:35,feelslike:18,chanceofrain:0,chanceofremdry:87,chanceofwindy:0,chanceofovercast:90,chanceofsunshine:15,chanceoffrost:0,chanceofhightemp:0,chanceoffog:0,chanceofsnow:0,chanceofthunder:0,uv_index:0},{time:"300"},{time:"600"}]}}}},w=function(e){return{request:{type:"City",query:"New York, United States of America",language:"en",unit:"m"},location:{name:"New York",country:"United States of America",region:"New York",lat:"40.714",lon:"-74.006",timezone_id:"America/New_York",localtime:"2019-09-07 10:05",localtime_epoch:1567850700,utc_offset:"-4.0"},current:{observation_time:"02:05 PM",temperature:20,weather_code:113,weather_icons:["https://assets.weatherstack.com/images/wsymbols01_png_64/wsymbol_0001_sunny.png"],weather_descriptions:["Sunny"],wind_speed:0,wind_degree:0,wind_dir:"N",pressure:1111,precip:0,humidity:95,cloudcover:0,feelslike:18,uv_index:3,visibility:12},historical:{"2008-07-01":{date:"2008-07-01",date_epoch:1214870400,astro:{sunrise:"05:29 AM",sunset:"08:31 PM",moonrise:"03:24 AM",moonset:"07:37 PM",moon_phase:"Waning Crescent",moon_illumination:4},mintemp:0,maxtemp:0,avgtemp:19,totalsnow:0,sunhour:14.5,uv_index:4,hourly:[{time:"0",temperature:27,wind_speed:7,wind_degree:201,wind_dir:"SSW",weather_code:113,weather_icons:["https://assets.weatherstack.com/images/wsymbols01_png_64/wsymbol_0001_sunny.png"],weather_descriptions:["Sunny"],precip:1.8,humidity:80,visibility:9,pressure:1011,cloudcover:15,heatindex:25,dewpoint:20,windchill:24,windgust:11,feelslike:25,chanceofrain:0,chanceofremdry:0,chanceofwindy:0,chanceofovercast:0,chanceofsunshine:0,chanceoffrost:0,chanceofhightemp:0,chanceoffog:0,chanceofsnow:0,chanceofthunder:0,uv_index:6},{time:"300"},{time:"600"}]}}}},j=n(35),v=n.n(j),y=n(10),g=n.n(y),x="DD-MM-YYYY",O="YYYY-MM-DD",k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:x;return g()(e).format(t)},N=(n(47),n(4)),S=function(e){var t=e.onSubmitCallback,n=e.closeFormCallback,c=Object(r.useState)(new Date),a=Object(d.a)(c,2),i=a[0],s=a[1],l=function(e,t){return function(e,t,n){var r=g()(e),c=g()(t);return r<c?c.diff(r,n):r.diff(c,n)}(e,t,"days")},m=function(){var e=g()().startOf("day"),t=g()(i).startOf("day");return e>t?[w,{historical_date:k(t,O)}]:e<t?[b,{forecast_days:l(e,t)}]:[_,{}]},f=function(){var e=Object(u.a)(o.a.mark((function e(r){var c,a,i,s,u,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r.preventDefault(),m(),e.prev=2,c={query:r.target.query.value},a=m()||[],i=Object(d.a)(a,2),s=i[0],u=i[1],e.next=7,s(Object(h.a)(Object(h.a)({},c),u));case 7:l=e.sent,t(l),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.error(e.t0);case 14:n(!1);case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(N.jsxs)("form",{className:"input__city-form",onSubmit:f,children:[Object(N.jsx)("label",{htmlFor:"query",children:"Hey, bro, let see the weather in your city!"}),Object(N.jsx)("input",{id:"query",type:"text",name:"query",placeholder:"Please enter city"}),Object(N.jsx)("h6",{children:"Here you can check historical or forecast weather!"}),Object(N.jsx)(v.a,{className:"asd",selected:i,onChange:function(e){return s(e)}}),Object(N.jsx)("input",{type:"submit",value:"Submit"})]})},C=function(e){var t=e.weatherData||{},n=t.location,r=(n=void 0===n?[]:n).name,c=t.current,a=(c=void 0===c?{}:c).temperature,i=c.humidity,s=c.pressure,o=c.uv_index,u=c.weather_icons,d=c.feelslike,l=c.visibility,h=c.wind_speed,m=c.weather_descriptions;return Object(N.jsxs)("div",{className:"weathercard__container",children:[Object(N.jsx)("div",{className:"weathercard__city",children:r}),Object(N.jsxs)("div",{className:"weathercard__temperature",children:[a,"\xb0\u0421"]}),Object(N.jsxs)("div",{className:"weathercard__info",children:[Object(N.jsxs)("div",{className:"info__left",children:[Object(N.jsxs)("div",{className:"info__left-humidity",children:["Humidity: ",i," %"]}),Object(N.jsxs)("div",{className:"info__left-pressure",children:["Pressure: ",s," hPa"]}),Object(N.jsxs)("div",{className:"info__left-uvindex",children:["UV_index: ",o]})]}),Object(N.jsx)("div",{className:"info__center-image",children:Object(N.jsx)("img",{src:u,alt:"weather"})}),Object(N.jsxs)("div",{className:"info__right",children:[Object(N.jsxs)("div",{className:"info__right-descriptions",children:["Feels like: ",d," \xb0\u0421"]}),Object(N.jsx)("div",{className:"info__right-visibility",children:"Visibility: ".concat(l," km")}),Object(N.jsx)("div",{className:"info__right-windspeed",children:"Wind: ".concat(h," km/h")})]})]}),Object(N.jsxs)("div",{className:"info__right-descriptions",children:["Sky: ",m]})]})},Y=(n(96),function(){var e=Object(r.useState)(null),t=Object(d.a)(e,2),n=t[0],c=t[1],a=Object(r.useState)(!0),i=Object(d.a)(a,2),s=i[0],h=i[1],m=Object(r.useState)(!1),f=Object(d.a)(m,2),p=f[0],b=f[1],w=Object(r.useState)(""),j=Object(d.a)(w,2),v=j[0],y=j[1];return Object(r.useEffect)(Object(u.a)(o.a.mark((function e(){var t,n,r,a,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){navigator.geolocation.getCurrentPosition((function(t){e(t.coords)}))}));case 2:if((t=e.sent).latitude||t.longitude){e.next=6;break}return h(!1),e.abrupt("return");case 6:return e.prev=6,e.next=9,l(t.latitude,t.longitude);case 9:if(e.t0=e.sent,e.t0){e.next=12;break}e.t0={};case 12:return n=e.t0,r=n.city,a=void 0===r?"":r,e.next=17,_({query:a});case 17:i=e.sent,y(a),c(i),e.next=25;break;case 22:e.prev=22,e.t1=e.catch(6),console.log(e.t1);case 25:return e.prev=25,h(!1),e.finish(25);case 28:case"end":return e.stop()}}),e,null,[[6,22,25,28]])}))),[]),s?Object(N.jsx)("h2",{className:"page-title",children:"Loading..."}):Object(N.jsxs)("div",{className:"container",children:[Object(N.jsx)("h2",{className:"page-title",children:"Get Weather for free!"}),v&&!p?Object(N.jsxs)("div",{className:"sub-title-container",children:[Object(N.jsxs)("p",{className:"page-sub-title",children:["Weather for ",v]}),Object(N.jsx)("button",{className:"button button-style",type:"button",onClick:function(){return b(!0)},children:"Change Location"})]}):Object(N.jsx)(S,{onSubmitCallback:c,closeFormCallback:b}),n&&Object(N.jsx)(C,{weatherData:n})]})}),M=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,105)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,i=t.getTTFB;n(e),r(e),c(e),a(e),i(e)}))};i.a.render(Object(N.jsx)(c.a.StrictMode,{children:Object(N.jsx)(Y,{})}),document.getElementById("root")),M()}},[[98,1,2]]]);
//# sourceMappingURL=main.48dbec0b.chunk.js.map